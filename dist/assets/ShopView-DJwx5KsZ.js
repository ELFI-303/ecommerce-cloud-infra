import{_ as y,c as g}from"./index-CM7nz6Q7.js";const C={data(){return{cart:[]}},methods:{addToCart(a,n){this.cart.push({produit:a,quantity:n})},updateCartDisplay(){let a=0,n=document.getElementById("ShoppingCart");const t=n.getElementsByTagName("p");Array.from(t).forEach(e=>{n.removeChild(e)}),this.cart.forEach(e=>{let s=document.createElement("p");s.style.marginLeft="10px",s.innerHTML+=`${e.produit.company} - ${e.produit.name} - ${e.produit.price}€ x${e.quantity}`,a+=e.produit.price*e.quantity,n.appendChild(s)});let o=document.getElementById("total");o.innerHTML="Total: "+a+"€",n.appendChild(o)},displayCard(a){const n=document.getElementById("cards"),t=document.createElement("article");t.classList.add("card"),t.style.margin="20px",t.style.gridTemplateRows="max-content 200px 1fr";const o=document.createElement("img");o.src="https://www.francetvinfo.fr/pictures/g9fLoETH0rcUlgXfCgnHMdYYtz4/1200x900/2024/05/04/the-phone-66360ede76c52156185981.jpg",o.style.borderRadius="10px",o.style.width="200px",o.style.height="200px",t.appendChild(o);const e=document.createElement("div");e.classList.add("content");const s=document.createElement("h1");s.textContent=a.company,e.appendChild(s);const h=document.createElement("h4");h.textContent=a.name,e.appendChild(h);const m=document.createElement("h3");m.textContent=a.price+"€",m.style.marginLeft="70%",e.appendChild(m);const d=document.createElement("div");d.classList.add("quantity-picker");const l=document.createElement("button");l.textContent="-",l.classList.add("btn-quantity"),l.addEventListener("click",()=>{let c=parseInt(i.value);c>1&&(i.value=c-1)}),d.appendChild(l);const i=document.createElement("input");i.type="number",i.value=1,i.min=1,i.classList.add("quantity-input"),d.appendChild(i);const r=document.createElement("button");r.textContent="+",r.classList.add("btn-quantity"),r.addEventListener("click",()=>{let c=parseInt(i.value);i.value=c+1}),d.appendChild(r),e.appendChild(d);const u=document.createElement("div");u.classList.add("buttons");const p=document.createElement("button");p.classList.add("btn"),p.textContent="Add to cart",p.addEventListener("click",()=>{let c=i.value;this.addToCart(a,c),this.updateCartDisplay()}),u.appendChild(p),e.appendChild(u),t.appendChild(e),n.appendChild(t)}},mounted(){fetch("https://ztp2sff6r0.execute-api.eu-west-3.amazonaws.com/products",{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(t=>{if(console.log(t),!t.ok)throw new Error("Network response was not ok "+t.statusText);return t.json()}).then(t=>{document.getElementById("product-list");for(const o of t){let e=o[0];this.displayCard(e)}}).catch(t=>{console.error("There was a problem with the fetch operation:",t)}),document.getElementById("buy").addEventListener("click",()=>{console.log(this.cart)}),document.getElementById("shopCart").addEventListener("click",()=>{let t=document.getElementById("ShoppingCart");t.style.display=="none"?t.style.display="block":t.style.display="none"})}};function f(a,n,t,o,e,s){return n[0]||(n[0]=g('<head><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Ecommerce Site</title></head><body><main><header><nav class="nav container" id="test"><div id="ShoppingCart"><h1 style="margin-left:10px;margin-top:10px;">Panier</h1><h3 style="position:absolute;bottom:0;margin-left:10px;margin-bottom:10px;" id="total"></h3><a id="buy" class="btn" style="background-color:blue;position:absolute;bottom:0;margin-left:60%;margin-bottom:10px;">Buy</a></div><h2 class="nav_logo" style="margin-right:10px;"><a href="#">PhoneZone</a></h2><ul class="menu_items"><li><a href="/" class="nav_link">Home</a></li><li><a href="/shop" class="nav_link" id="current">Shop</a></li><li><a id="shopCart" class="nav_link"><img src="https://cdn-icons-png.flaticon.com/512/1413/1413908.png"></a></li><li><a href="/login" class="nav_link"><img src="https://cdn-icons-png.flaticon.com/512/266/266033.png"></a></li></ul></nav></header><section class="hero"><div class="row container"><div id="cards"></div></div></section></main></body>',2))}const E=y(C,[["render",f]]);export{E as default};
